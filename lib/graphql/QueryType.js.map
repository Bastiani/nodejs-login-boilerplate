{"version":3,"sources":["../../src/graphql/QueryType.js"],"names":["UserLoader","GraphQLObjectType","name","description","fields","node","nodeField","me","type","UserType","resolve","root","args","context","console","log","user","id","load","users","UserConnection","connectionType","connectionArgs","search","GraphQLString","obj","loadUsers"],"mappings":";;;;;;AACA;;AACA;;AAEA;;;;AACA;;AAEA;;IAAYA,U;;;;;;kBAEG,IAAIC,0BAAJ,CAAsB;AACnCC,QAAM,OAD6B;AAEnCC,eAAa,4BAFsB;AAGnCC,UAAQ,OAAO;AACbC,UAAMC,eADO;AAEbC,QAAI;AACFC,YAAMC,kBADJ;AAEFN,mBAAa,uBAFX;AAGFO,eAAS,OAAOC,IAAP,EAAaC,IAAb,EAAmBC,OAAnB,KAA+B;AACtCC,gBAAQC,GAAR,CAAY,cAAZ,EAA4BF,QAAQG,IAAR,CAAaC,EAAzC;AACA,cAAMD,OAAO,MAAMhB,WAAWkB,IAAX,CAAgBL,OAAhB,EAAyBA,QAAQG,IAAR,IAAgBH,QAAQG,IAAR,CAAaC,EAAtD,CAAnB;AACA,eAAOD,IAAP;AACD;AAPC,KAFS;AAWbG,WAAO;AACLX,YAAM,6BAAeY,yBAAeC,cAA9B,CADD;AAELT,YAAM;AACJ,WAAGU,4BADC;AAEJC,gBAAQ;AACNf,gBAAMgB;AADA;AAFJ,OAFD;AAQLd,eAAS,OAAOe,GAAP,EAAYb,IAAZ,EAAkBC,OAAlB,KAA8B,MAAMb,WAAW0B,SAAX,CAAqBb,OAArB,EAA8BD,IAA9B;AARxC;AAXM,GAAP;AAH2B,CAAtB,C","file":"QueryType.js","sourcesContent":["// @flow\nimport { GraphQLObjectType, GraphQLNonNull, GraphQLString } from 'graphql';\nimport { connectionArgs } from 'graphql-relay';\n\nimport UserType, { UserConnection } from '../modules/user/UserType';\nimport { nodeField } from '../interface/Node';\n\nimport * as UserLoader from '../modules/user/UserLoader';\n\nexport default new GraphQLObjectType({\n  name: 'Query',\n  description: 'The root of all... queries',\n  fields: () => ({\n    node: nodeField,\n    me: {\n      type: UserType,\n      description: 'Me is the logged user',\n      resolve: async (root, args, context) => {\n        console.log('====>>>>> me', context.user.id);\n        const user = await UserLoader.load(context, context.user && context.user.id);\n        return user;\n      },\n    },\n    users: {\n      type: GraphQLNonNull(UserConnection.connectionType),\n      args: {\n        ...connectionArgs,\n        search: {\n          type: GraphQLString,\n        },\n      },\n      resolve: async (obj, args, context) => await UserLoader.loadUsers(context, args),\n    },\n  }),\n});\n"]}